
/**
 * Minimal i18n with 3 languages: en (default), fa, ja
 * - Persists selection in localStorage.
 * - Updates text by [data-i18n] keys.
 * - Sets html[data-lang] for RTL support.
 */
const I18N = {
  en: {
    "nav.books":"Books",
    "nav.languages":"Language",
    "nav.photo":"Photography",
    "nav.film":"Filmmaking",
    "nav.education":"Education",
    "nav.work":"Work",
    "nav.social":"Social",
    "hero.title":"Mat Jafari",
    "hero.subtitle":"Marketing manager · Photographer · Filmmaker · Information engineering student",
    "chips.lux":"Luxury hospitality",
    "chips.story":"Storytelling",
    "chips.design":"Design systems",
    "cta.explore":"Explore",
    "cta.reading":"Reading list",
    "hero.note":"Scroll: the stickers move in 3D space. Because humans love motion.",
    "books.title":"Books",
    "books.subtitle":"Goodreads “read” shelf preview + short notes.",
    "books.previewKicker":"Preview",
    "books.openAll":"Open full list →",
    "books.openAll2":"Go to Books",
    "books.back":"← Back",
    "books.pageTitle":"Books I read",
    "books.pageSubtitle":"Short opinions, zero spoilers. Mostly.",
    "lang.title":"Language abilities",
    "lang.subtitle":"Animated bars fill when you reach this section.",
    "lang.fa":"Persian",
    "lang.faNote":"Native",
    "lang.en":"English",
    "lang.enNote":"Native level",
    "lang.ja":"Japanese",
    "lang.jaNote":"N2",
    "lang.fr":"French",
    "lang.frNote":"A1",
    "photo.title":"Photography works",
    "photo.subtitle":"A small preview strip linked to Behance.",
    "photo.stripKicker":"Behance preview",
    "photo.stripHint":"Click to open Behance →",
    "photo.note":"Replace the link and thumbnails later. The universe will survive.",
    "film.title":"Filmmaking",
    "film.subtitle":"Projects list + a YouTube playlist embed.",
    "film.projects":"Projects",
    "film.playlist":"Playlist",
    "film.playlistNote":"Update the playlist ID whenever you’re ready to flex.",
    "edu.title":"Education",
    "edu.subtitle":"A timeline that grows as you scroll.",
    "edu.m1":"High school · Mathematics",
    "edu.m1s":"Foundation in analytical thinking.",
    "edu.m2":"Associate degree · Electronics",
    "edu.m2s":"Circuit logic and practical engineering basics.",
    "edu.m3":"BSc · Information Engineering",
    "edu.m3s":"Building systems, data, and product thinking.",
    "work.title":"Work experience",
    "work.subtitle":"The part where I prove I do things.",
    "int.title":"Interests",
    "int.subtitle":"Iaido, chess, and other highly rational hobbies.",
    "int.iaido":"Iaido",
    "int.iaidoNote":"Replace with your real photo later.",
    "int.chess":"Chess",
    "int.chessNote":"Live recent games preview depends on chess.com API and CORS. So for now: a clean placeholder.",
    "int.chessBtn":"Open chess.com",
    "social.title":"Social",
    "social.subtitle":"Previews + links, without turning your site into a billboard.",
    "social.ig":"Instagram",
    "social.openIg":"Open Instagram",
    "social.tg":"Telegram",
    "social.tgNote":"Link your channel here.",
    "social.openTg":"Open Telegram",
    "social.ap":"Aparat",
    "social.apNote":"Link your Aparat page here.",
    "social.openAp":"Open Aparat"
  },
  fa: {
    "nav.books":"کتاب‌ها",
    "nav.languages":"زبان‌ها",
    "nav.photo":"عکاسی",
    "nav.film":"فیلم‌برداری",
    "nav.education":"تحصیلات",
    "nav.work":"تجربه کاری",
    "nav.social":"سوشال",
    "hero.title":"Mat Jafari",
    "hero.subtitle":"مدیر مارکتینگ · عکاس · فیلم‌ساز · دانشجوی مهندسی اطلاعات",
    "chips.lux":"هتلداری لوکس",
    "chips.story":"استوری‌تلینگ",
    "chips.design":"سیستم طراحی",
    "cta.explore":"ببین",
    "cta.reading":"لیست کتاب‌ها",
    "hero.note":"اسکرول کن: استیکرها سه‌بعدی حرکت می‌کنن. چون بشر عاشق حرکت اضافیه.",
    "books.title":"کتاب‌ها",
    "books.subtitle":"پریویوی شلفِ read در Goodreads + نظر کوتاه.",
    "books.previewKicker":"پریویو",
    "books.openAll":"لیست کامل →",
    "books.openAll2":"برو به صفحه کتاب‌ها",
    "books.back":"← برگشت",
    "books.pageTitle":"کتاب‌هایی که خواندم",
    "books.pageSubtitle":"نظر کوتاه، بدون اسپویل (تقریباً).",
    "lang.title":"توانایی زبان‌ها",
    "lang.subtitle":"وقتی به این بخش می‌رسی، نوارها انیمیشنی پر می‌شوند.",
    "lang.fa":"فارسی",
    "lang.faNote":"Native",
    "lang.en":"English",
    "lang.enNote":"Native level",
    "lang.ja":"日本語",
    "lang.jaNote":"N2",
    "lang.fr":"Français",
    "lang.frNote":"A1",
    "photo.title":"نمونه کارهای عکاسی",
    "photo.subtitle":"یک نوار پریویو که به Behance لینک شده.",
    "photo.stripKicker":"پریویو Behance",
    "photo.stripHint":"کلیک کن تا باز شود →",
    "photo.note":"بعداً لینک و تصاویر را عوض می‌کنی. دنیا منفجر نمی‌شود.",
    "film.title":"نمونه کارهای فیلم‌برداری",
    "film.subtitle":"لیست پروژه‌ها + پلی‌لیست یوتیوب.",
    "film.projects":"پروژه‌ها",
    "film.playlist":"پلی‌لیست",
    "film.playlistNote":"بعداً آی‌دی پلی‌لیست را عوض کن.",
    "edu.title":"تحصیلات",
    "edu.subtitle":"تایم‌لاین با اسکرول رشد می‌کند.",
    "edu.m1":"دبیرستان · ریاضی",
    "edu.m1s":"پایه‌ی تحلیل و منطق.",
    "edu.m2":"فوق‌دیپلم · برق",
    "edu.m2s":"مدار، منطق و کار عملی.",
    "edu.m3":"لیسانس · مهندسی اطلاعات",
    "edu.m3s":"سیستم، دیتا و نگاه محصولی.",
    "work.title":"تجربه کاری",
    "work.subtitle":"جایی که ثابت می‌کنم فقط حرف نمی‌زنم.",
    "int.title":"علاقه‌مندی‌ها",
    "int.subtitle":"شمشیربازی، شطرنج، و بقیه چیزهای منطقی.",
    "int.iaido":"شمشیربازی (Iaido)",
    "int.iaidoNote":"بعداً عکس واقعی‌ات را جایگزین کن.",
    "int.chess":"شطرنج",
    "int.chessNote":"پریویوی زنده بازی‌ها نیاز به API chess.com و محدودیت‌های CORS دارد. فعلاً placeholder تمیز.",
    "int.chessBtn":"باز کردن chess.com",
    "social.title":"سوشال مدیا",
    "social.subtitle":"پریویو + لینک، بدون اینکه سایتت تبدیل به بیلبورد شود.",
    "social.ig":"اینستاگرام",
    "social.openIg":"باز کردن اینستاگرام",
    "social.tg":"تلگرام",
    "social.tgNote":"لینک کانال را اینجا بگذار.",
    "social.openTg":"باز کردن تلگرام",
    "social.ap":"آپارات",
    "social.apNote":"لینک صفحه آپارات را اینجا بگذار.",
    "social.openAp":"باز کردن آپارات"
  },
  ja: {
    "nav.books":"読書",
    "nav.languages":"言語",
    "nav.photo":"写真",
    "nav.film":"映像",
    "nav.education":"学歴",
    "nav.work":"経歴",
    "nav.social":"SNS",
    "hero.title":"Mat Jafari",
    "hero.subtitle":"マーケティング · 写真 · 映像 · 情報工学",
    "chips.lux":"ラグジュアリー",
    "chips.story":"ストーリー設計",
    "chips.design":"デザイン",
    "cta.explore":"見る",
    "cta.reading":"読書リスト",
    "hero.note":"スクロールで周りのアイコンが3Dっぽく動きます。人間は動きが好きなので。",
    "books.title":"本",
    "books.subtitle":"Goodreadsのread棚プレビュー＋短い感想。",
    "books.previewKicker":"プレビュー",
    "books.openAll":"一覧へ →",
    "books.openAll2":"Booksへ",
    "books.back":"← 戻る",
    "books.pageTitle":"読んだ本",
    "books.pageSubtitle":"ネタバレなし（たぶん）。",
    "lang.title":"言語能力",
    "lang.subtitle":"このセクションに入るとバーがアニメーションで伸びます。",
    "lang.fa":"ペルシア語",
    "lang.faNote":"Native",
    "lang.en":"英語",
    "lang.enNote":"Native level",
    "lang.ja":"日本語",
    "lang.jaNote":"N2",
    "lang.fr":"フランス語",
    "lang.frNote":"A1",
    "photo.title":"写真作品",
    "photo.subtitle":"Behanceへのリンク付きプレビュー。",
    "photo.stripKicker":"Behance プレビュー",
    "photo.stripHint":"クリックして開く →",
    "photo.note":"リンクと画像は後で差し替え。世界は崩壊しません。",
    "film.title":"映像制作",
    "film.subtitle":"プロジェクト一覧 + YouTubeプレイリスト。",
    "film.projects":"プロジェクト",
    "film.playlist":"プレイリスト",
    "film.playlistNote":"必要になったらプレイリストIDを変更してください。",
    "edu.title":"学歴",
    "edu.subtitle":"スクロールで成長するタイムライン。",
    "edu.m1":"高校 · 数学",
    "edu.m1s":"分析思考の土台。",
    "edu.m2":"短期大学 · 電子工学",
    "edu.m2s":"回路と実践的な基礎。",
    "edu.m3":"学士 · 情報工学",
    "edu.m3s":"システムとデータ、プロダクト思考。",
    "work.title":"職務経歴",
    "work.subtitle":"ちゃんと仕事してるやつ。",
    "int.title":"趣味",
    "int.subtitle":"居合とチェス。理性の趣味。",
    "int.iaido":"居合",
    "int.iaidoNote":"後で実写真に差し替え。",
    "int.chess":"チェス",
    "int.chessNote":"chess.comの最近の対局はAPI/CORS次第。今はプレースホルダー。",
    "int.chessBtn":"chess.comを開く",
    "social.title":"SNS",
    "social.subtitle":"プレビュー＋リンク。主張しすぎない。",
    "social.ig":"Instagram",
    "social.openIg":"Instagramを開く",
    "social.tg":"Telegram",
    "social.tgNote":"チャンネルリンクを設定。",
    "social.openTg":"Telegramを開く",
    "social.ap":"Aparat",
    "social.apNote":"Aparatのリンクを設定。",
    "social.openAp":"Aparatを開く"
  }
};

function getLang(){
  return localStorage.getItem("lang") || "en";
}

function setLang(lang){
  localStorage.setItem("lang", lang);
  document.documentElement.setAttribute("lang", lang === "fa" ? "fa" : (lang === "ja" ? "ja" : "en"));
  document.documentElement.dataset.lang = lang;
  applyI18n(lang);
  updateLangButtons(lang);
}

function applyI18n(lang){
  const dict = I18N[lang] || I18N.en;
  document.querySelectorAll("[data-i18n]").forEach(el => {
    const key = el.getAttribute("data-i18n");
    if(dict[key]) el.textContent = dict[key];
  });
}

function updateLangButtons(lang){
  document.querySelectorAll(".pill[data-lang]").forEach(btn=>{
    const isActive = btn.dataset.lang === lang;
    btn.setAttribute("aria-pressed", isActive ? "true":"false");
  });
}

window.I18N_API = { getLang, setLang, applyI18n, updateLangButtons, I18N };
